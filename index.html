<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Rookie - Juego Interactivo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            max-width: 800px;
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #141E30 0%, #243B55 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .badge {
            font-size: 0.9em;
            opacity: 0.9;
            letter-spacing: 2px;
        }

        .story-container {
            padding: 40px;
            min-height: 400px;
        }

        .story-text {
            font-size: 1.1em;
            line-height: 1.8;
            color: #333;
            margin-bottom: 30px;
            text-align: justify;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .choice-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 25px;
            font-size: 1em;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .choice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .choice-btn:active {
            transform: translateY(0);
        }

        .stats {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #243B55;
        }

        .ending {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
        }

        .ending h2 {
            margin-bottom: 15px;
            font-size: 2em;
        }

        .restart-btn {
            background: white;
            color: #f5576c;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .restart-btn:hover {
            transform: scale(1.05);
        }

        @media (max-width: 600px) {
            .header h1 {
                font-size: 1.8em;
            }
            
            .story-container {
                padding: 20px;
            }
            
            .story-text {
                font-size: 1em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>üöî THE ROOKIE</h1>
            <div class="badge">DEPARTAMENTO DE POLIC√çA - PRIMER D√çA</div>
        </div>
        
        <div class="story-container">
            <div class="stats" id="stats">
                <div class="stat">
                    <div class="stat-label">Confianza del Equipo</div>
                    <div class="stat-value" id="trust">50</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Reputaci√≥n</div>
                    <div class="stat-value" id="reputation">50</div>
                </div>
                <div class="stat">
                    <div class="stat-label">Intuici√≥n</div>
                    <div class="stat-value" id="intuition">50</div>
                </div>
            </div>
            
            <div class="story-text" id="story"></div>
            <div class="choices" id="choices"></div>
        </div>
    </div>

    <script>
        // ESTADO DEL JUEGO
        let gameState = {
            trust: 50,        // Confianza de tus compa√±eros
            reputation: 50,   // Tu reputaci√≥n en el departamento
            intuition: 50,    // Tu instinto policial
            currentScene: 'inicio',
            decisions: []     // Guardamos las decisiones para finales diferentes
        };

        // ESCENAS DEL JUEGO
        const scenes = {
            inicio: {
                text: `Es tu primer d√≠a como oficial de polic√≠a. Despu√©s de a√±os de entrenamiento, finalmente llevas la placa. Son las 7:00 AM y acabas de llegar a la estaci√≥n.\n\nTu superior, el Sargento Rodr√≠guez, un veterano de 20 a√±os, se acerca con dos tazas de caf√©.\n\n"Bienvenido, novato. Hoy ser√°s mi compa√±ero. Tenemos una ciudad que proteger y mucho que ense√±arte. ¬øListo para tu primer turno?"`,
                choices: [
                    {
                        text: '"¬°S√≠, se√±or! Estoy listo para lo que sea."',
                        next: 'patrulla',
                        effects: { trust: 5, reputation: 5 }
                    },
                    {
                        text: '"La verdad estoy un poco nervioso, pero har√© mi mejor esfuerzo."',
                        next: 'patrulla',
                        effects: { trust: 10, intuition: 5 }
                    },
                    {
                        text: '"Tengo algunas preguntas sobre los protocolos antes de salir..."',
                        next: 'patrulla',
                        effects: { reputation: -5, intuition: 10 }
                    }
                ]
            },

            patrulla: {
                text: `Dos horas despu√©s, patrullan un barrio tranquilo cuando la radio crepita:\n\n"Todas las unidades: reportan disturbio en la tienda de conveniencia en la calle Elm. Posible robo en progreso. ¬øAlguna unidad disponible?"\n\nEst√°n a solo dos cuadras de distancia. El Sargento Rodr√≠guez te mira. "Es tu decisi√≥n, novato. Somos los m√°s cercanos."`,
                choices: [
                    {
                        text: '"¬°Respondamos! Somos los m√°s cercanos, tenemos que ir."',
                        next: 'tienda_rapido',
                        effects: { reputation: 10, trust: -5 }
                    },
                    {
                        text: '"¬øQu√© recomienda usted, Sargento? Usted tiene m√°s experiencia."',
                        next: 'tienda_cauteloso',
                        effects: { trust: 10 }
                    },
                    {
                        text: '"Esperemos respaldo. Podr√≠a ser peligroso ir solos."',
                        next: 'esperar_respaldo',
                        effects: { intuition: 10, reputation: -10 }
                    }
                ]
            },

            tienda_rapido: {
                text: `"Me gusta tu iniciativa", dice Rodr√≠guez mientras enciende las sirenas.\n\nLlegan en menos de un minuto. A trav√©s del vidrio ves a un hombre con capucha apuntando algo al cajero. No puedes distinguir si es un arma real.\n\nRodr√≠guez ya est√° saliendo del auto. "¬°Vamos!"`,
                choices: [
                    {
                        text: 'Entrar inmediatamente por la puerta principal con Rodr√≠guez',
                        next: 'entrada_frontal',
                        effects: { trust: 10, intuition: -10 }
                    },
                    {
                        text: 'Sugerir rodear el edificio para cubrir la salida trasera',
                        next: 'tactica_inteligente',
                        effects: { intuition: 15, reputation: 10 }
                    },
                    {
                        text: 'Pedir que esperen a ver qu√© pasa antes de actuar',
                        next: 'observar',
                        effects: { trust: -10, intuition: 10 }
                    }
                ]
            },

            tienda_cauteloso: {
                text: `Rodr√≠guez asiente con aprobaci√≥n. "Bien. Nunca est√° de m√°s ser cauteloso. Vamos, pero mant√©n los ojos abiertos."\n\nLlegan con sirenas apagadas y se estacionan a media cuadra. Desde aqu√≠ pueden ver la entrada. Hay un auto sospechoso con el motor encendido afuera.\n\n"Podr√≠a ser un c√≥mplice esperando", murmura Rodr√≠guez.`,
                choices: [
                    {
                        text: 'Acercarse sigilosamente al auto sospechoso',
                        next: 'auto_complice',
                        effects: { intuition: 15, trust: 10 }
                    },
                    {
                        text: 'Reportar el veh√≠culo y esperar instrucciones',
                        next: 'protocolo_estricto',
                        effects: { reputation: -5, trust: 5 }
                    },
                    {
                        text: 'Dividirse: uno al auto, otro a la tienda',
                        next: 'dividir_fuerzas',
                        effects: { reputation: 10, trust: -5 }
                    }
                ]
            },

            esperar_respaldo: {
                text: `Rodr√≠guez te mira con decepci√≥n. "A veces no hay tiempo para esperar, novato."\n\nAntes de que puedas responder, escuchan disparos desde la tienda. Tu est√≥mago se contrae.\n\n"¬°Mierda! ¬°Ahora tenemos que ir!" Rodr√≠guez arranca hacia all√° con sirenas a todo volumen.\n\nCuando llegan, ves a un hombre corriendo por el callej√≥n lateral.`,
                choices: [
                    {
                        text: 'Perseguir al sospechoso inmediatamente',
                        next: 'persecucion',
                        effects: { reputation: 5, trust: -10 }
                    },
                    {
                        text: 'Entrar primero a la tienda para verificar heridos',
                        next: 'prioridad_victimas',
                        effects: { reputation: 15, intuition: 10 }
                    },
                    {
                        text: 'Dividirse: t√∫ persigues, Rodr√≠guez verifica la tienda',
                        next: 'division_emergencia',
                        effects: { trust: 5, intuition: -5 }
                    }
                ]
            },

            tactica_inteligente: {
                text: `"Buen pensamiento t√°ctico, novato", dice Rodr√≠guez impresionado. "T√∫ toma la parte trasera. Nos coordinamos por radio."\n\nRodeas el edificio r√°pidamente. Justo cuando llegas a la puerta trasera, esta se abre de golpe. Un hombre joven, no mayor de 20 a√±os, sale corriendo y casi choca contigo. En su mano derecha lleva... una botella de licor.\n\nTus ojos se encuentran. √âl est√° aterrorizado. T√∫ tienes segundos para reaccionar.`,
                choices: [
                    {
                        text: 'Gritar "¬°Alto! ¬°Polic√≠a!" e intentar detenerlo f√≠sicamente',
                        next: 'arresto_fisico',
                        effects: { reputation: 10, intuition: -5 }
                    },
                    {
                        text: 'Desenfundar tu arma y ordenar que se tire al suelo',
                        next: 'arma_desenfundada',
                        effects: { trust: 5, intuition: -10 }
                    },
                    {
                        text: 'Hablarle calmadamente: "Oye, no hagas esto peor. Detente y hablemos."',
                        next: 'enfoque_calmado',
                        effects: { intuition: 15, reputation: 5 }
                    }
                ]
            },

            enfoque_calmado: {
                text: `El joven se detiene, temblando. "Yo... yo solo quer√≠a... mi hermanita est√° enferma y no tengo dinero para..."\n\nSe derrumba llorando. No parece peligroso, solo desesperado. La botella de licor cae al suelo. Entonces notas algo: no hay arma. Lo que el cajero report√≥ como posible arma era solo su dedo en el bolsillo.\n\nRodr√≠guez llega por detr√°s: "¬øTodo bajo control aqu√≠?"\n\nEl cajero sale gritando: "¬°Arr√©stenlo! ¬°Intent√≥ robarme!"`,
                choices: [
                    {
                        text: 'Arrestarlo de inmediato, la ley es la ley',
                        next: 'final_ley_estricta',
                        effects: { reputation: 10, trust: 10, intuition: -15 }
                    },
                    {
                        text: 'Explicar la situaci√≥n a Rodr√≠guez y abogar por ayudar al joven',
                        next: 'final_compasion',
                        effects: { intuition: 20, reputation: 15, trust: 5 }
                    },
                    {
                        text: 'Arrestarlo pero prometer buscar ayuda para su hermana',
                        next: 'final_equilibrio',
                        effects: { reputation: 15, trust: 15, intuition: 10 }
                    }
                ]
            },

            entrada_frontal: {
                text: `Entran juntos gritando "¬°Polic√≠a!"\n\nEl sospechoso se voltea sorprendido. No es un arma... es un tel√©fono. Es un adolescente asustado.\n\n"¬°No disparen! ¬°Solo quer√≠a... mi mam√° est√° enferma!"\n\nEl cajero grita: "¬°Dijo que ten√≠a un arma! ¬°Me amenaz√≥!"\n\nRodr√≠guez te mira, esperando que tomes la iniciativa esta vez.`,
                choices: [
                    {
                        text: 'Arrestar al joven de inmediato por intento de robo',
                        next: 'final_protocolo',
                        effects: { reputation: 5, trust: 10 }
                    },
                    {
                        text: 'Intentar mediar entre el cajero y el joven',
                        next: 'final_mediador',
                        effects: { intuition: 15, reputation: 10 }
                    }
                ]
            },

            auto_complice: {
                text: `Se acercan sigilosamente al veh√≠culo. Dentro hay una mujer mayor, claramente nerviosa, pero cuando la identifican descubren que es la due√±a de la tienda.\n\n"¬°Oficiales! Mi empleado me llam√≥. Hay alguien dentro amenaz√°ndolo. Por favor, ¬°ay√∫denlo!"\n\nNo hay c√≥mplice. Es la due√±a preocupada. Rodr√≠guez te mira: "Tu instinto era bueno, novato. Ahora, ¬øc√≥mo manejamos esto?"`,
                choices: [
                    {
                        text: 'Pedirle a la due√±a informaci√≥n y entrar con precauci√≥n',
                        next: 'entrada_informada',
                        effects: { intuition: 15, trust: 10 }
                    },
                    {
                        text: 'Pedir refuerzos inmediatamente',
                        next: 'final_cauteloso',
                        effects: { reputation: -5, trust: 5 }
                    }
                ]
            },

            entrada_informada: {
                text: `La due√±a explica: "Es un muchacho joven, lo conozco del barrio. Su familia est√° pasando por problemas econ√≥micos terribles..."\n\nCon esta informaci√≥n, entran con m√°s comprensi√≥n de la situaci√≥n. Encuentran a un adolescente asustado, sin arma real, desesperado por ayudar a su familia.\n\nRodr√≠guez te mira: "Has mostrado buen juicio hoy, novato. ¬øC√≥mo crees que debemos proceder?"`,
                choices: [
                    {
                        text: 'Proponer conectar a la familia con servicios sociales en lugar de arrestarlo',
                        next: 'final_heroe_comunidad',
                        effects: { intuition: 20, reputation: 20, trust: 15 }
                    },
                    {
                        text: 'Arrestarlo pero abogar por cargos reducidos dada la situaci√≥n',
                        next: 'final_justicia_compasiva',
                        effects: { reputation: 15, trust: 15, intuition: 10 }
                    }
                ]
            },

            // FINALES
            final_ley_estricta: {
                text: `Arrestas al joven. Cumpliste con el protocolo al pie de la letra.\n\nMeses despu√©s, descubres que fue sentenciado a 2 a√±os. Su hermana no recibi√≥ el tratamiento a tiempo.\n\nRodr√≠guez te dice: "Hiciste lo correcto seg√∫n el libro, novato. Pero a veces la ley no es suficiente para hacer justicia real."\n\nTe has convertido en un oficial que sigue las reglas... pero te preguntas si eso siempre es lo correcto.`,
                ending: "FINAL: EL GUARDI√ÅN DE LA LEY",
                endingType: "neutral"
            },

            final_compasion: {
                text: `Explicas la situaci√≥n a Rodr√≠guez. Para tu sorpresa, √©l asiente.\n\n"Buen ojo, novato. Vi lo mismo." Hablan con el cajero, quien acepta no presentar cargos.\n\nConectan a la familia con servicios sociales. La hermana recibe tratamiento. El joven empieza un programa de empleo juvenil.\n\nSeis meses despu√©s, te lo encuentras trabajando honestamente. Te agradece por ver a la persona, no solo al criminal.\n\nRodr√≠guez sonr√≠e: "Esto es lo que significa proteger Y servir, novato. Buen trabajo."`,
                ending: "FINAL: EL PROTECTOR DE LA COMUNIDAD",
                endingType: "best"
            },

            final_equilibrio: {
                text: `Arrestas al joven porque quebrant√≥ la ley, pero inmediatamente contactas a servicios sociales para su hermana.\n\nEn la corte, tu testimonio sobre las circunstancias resulta en servicios comunitarios en lugar de c√°rcel. Su hermana recibe ayuda m√©dica.\n\nRodr√≠guez te felicita: "Encontraste el equilibrio, novato. Cumpliste la ley pero no perdiste tu humanidad. Eso es lo que necesitamos m√°s."\n\nTe has convertido en un oficial que entiende que la justicia es m√°s que solo arrestos.`,
                ending: "FINAL: LA BALANZA DE LA JUSTICIA",
                endingType: "good"
            },

            final_protocolo: {
                text: `Sigues el protocolo est√°ndar. El joven es arrestado y procesado.\n\nLa situaci√≥n se resuelve sin incidentes. Rodr√≠guez te palmea el hombro: "Buen trabajo, novato. Limpio y profesional."\n\nPero esa noche no puedes dormir pensando en el rostro asustado del adolescente. ¬øHab√≠a otra manera?\n\nTe has convertido en un oficial competente... pero te preguntas si competente es suficiente.`,
                ending: "FINAL: POR EL LIBRO",
                endingType: "neutral"
            },

            final_mediador: {
                text: `Logras calmar la situaci√≥n y mediar entre ambas partes.\n\nEl cajero acepta no presentar cargos si el joven se disculpa y promete buscar ayuda adecuada. Conectas a la familia con recursos comunitarios.\n\nRodr√≠guez est√° impresionado: "No solo resolviste un crimen, evitaste crear un criminal. Bien hecho, novato."\n\nTe has ganado una reputaci√≥n como alguien que puede resolver situaciones sin que todo termine en arrestos.`,
                ending: "FINAL: EL PACIFICADOR",
                endingType: "good"
            },

            final_heroe_comunidad: {
                text: `Tu sugerencia toma a Rodr√≠guez por sorpresa, pero tras pensarlo, acepta.\n\nTrabajan con la due√±a de la tienda y servicios sociales. La familia recibe ayuda. El joven entra en un programa de mentor√≠a policial que t√∫ personalmente supervisas.\n\nUn a√±o despu√©s, √©l est√° estudiando justicia criminal, inspirado por c√≥mo lo trataste.\n\nEl capit√°n te llama: "Oficial, esto es lo que significa verdaderamente servir a la comunidad. Estoy orgulloso de tenerte en el equipo."\n\nRodr√≠guez sonr√≠e: "Desde el primer d√≠a vi que ser√≠as especial, novato. O mejor dicho... oficial."`,
                ending: "FINAL: H√âROE DE LA COMUNIDAD",
                endingType: "best"
            },

            final_justicia_compasiva: {
                text: `Tu enfoque balanceado impresiona tanto a Rodr√≠guez como al fiscal.\n\nEl joven es arrestado pero recibe cargos reducidos y libertad condicional con servicios comunitarios. Su familia recibe ayuda de servicios sociales.\n\nMeses despu√©s, te lo encuentras cumpliendo sus horas comunitarias... en un programa de la polic√≠a ayudando a otros j√≥venes en riesgo.\n\nRodr√≠guez te dice: "Hiciste lo correcto, novato. Responsabilidad con compasi√≥n. Ese es el balance que necesitamos."\n\nTe has convertido en el tipo de oficial que la comunidad necesita y respeta.`,
                ending: "FINAL: LA JUSTICIA SABIA",
                endingType: "best"
            },

            final_cauteloso: {
                text: `Esperas refuerzos. Para cuando llegan, el sospechoso ya huy√≥.\n\nNadie result√≥ herido, pero tampoco atraparon a nadie. El incidente queda sin resolver.\n\nRodr√≠guez no dice nada, pero su silencio dice todo. En los siguientes meses, notas que prefiere patrullar con otros oficiales.\n\nEres cauteloso y seguro... pero te preguntas si ser polic√≠a requiere m√°s que eso.`,
                ending: "FINAL: EL CAUTELOSO",
                endingType: "bad"
            },

            persecucion: {
                text: `Corres tras el sospechoso, pero pierdes su rastro en los callejones.\n\nCuando regresas, Rodr√≠guez est√° atendiendo al cajero herido. "Necesitaba ayuda aqu√≠, novato," dice decepcionado.\n\nEl sospechoso nunca es capturado. El cajero sobrevive, pero tu relaci√≥n con Rodr√≠guez est√° da√±ada.\n\nAprendiste una lecci√≥n dura: no siempre se trata de atrapar al malo.`,
                ending: "FINAL: PRIORIDADES EQUIVOCADAS",
                endingType: "bad"
            },

            prioridad_victimas: {
                text: `Ignoras al sospechoso y corres a la tienda. El cajero est√° herido pero consciente.\n\nMientras Rodr√≠guez persigue al sospechoso, t√∫ salvas la vida del cajero aplicando primeros auxilios hasta que llega la ambulancia.\n\nEl sospechoso escapa, pero el cajero sobrevive gracias a ti. Rodr√≠guez te dice: "Hiciste lo correcto, novato. Primero las vidas."\n\nNo atrapaste al criminal, pero salvaste una vida. A veces eso es m√°s importante.`,
                ending: "FINAL: EL SALVADOR",
                endingType: "good"
            }
        };

        // FUNCIONES DEL JUEGO
        function updateStats() {
            document.getElementById('trust').textContent = gameState.trust;
            document.getElementById('reputation').textContent = gameState.reputation;
            document.getElementById('intuition').textContent = gameState.intuition;
        }

        function showScene(sceneId) {
            const scene = scenes[sceneId];
            const storyDiv = document.getElementById('story');
            const choicesDiv = document.getElementById('choices');

            // Mostrar texto de la escena
            storyDiv.textContent = scene.text;

            // Limpiar opciones anteriores
            choicesDiv.innerHTML = '';

            // Si es un final
            if (scene.ending) {
                const endingDiv = document.createElement('div');
                endingDiv.className = 'ending';
                
                let endingColor = 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)';
                if (scene.endingType === 'best') {
                    endingColor = 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)';
                } else if (scene.endingType === 'good') {
                    endingColor = 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)';
                } else if (scene.endingType === 'bad') {
                    endingColor = 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)';
                }
                
                endingDiv.style.background = endingColor;
                
                endingDiv.innerHTML = `
                    <h2>${scene.ending}</h2>
                    <p>Confianza del Equipo: ${gameState.trust}</p>
                    <p>Reputaci√≥n: ${gameState.reputation}</p>
                    <p>Intuici√≥n: ${gameState.intuition}</p>
                    <button class="restart-btn" onclick="restartGame()">Jugar de Nuevo</button>
                `;
                choicesDiv.appendChild(endingDiv);
                return;
            }

            // Crear botones de elecci√≥n
            scene.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = `${index + 1}. ${choice.text}`;
                button.onclick = () => makeChoice(choice);
                choicesDiv.appendChild(button);
            });
        }

        function makeChoice(choice) {
            // Aplicar efectos a las estad√≠sticas
            if (choice.effects) {
                gameState.trust = Math.max(0, Math.min(100, gameState.trust + (choice.effects.trust || 0)));
                gameState.reputation = Math.max(0, Math.min(100, gameState.reputation + (choice.effects.reputation || 0)));
                gameState.intuition = Math.max(0, Math.min(100, gameState.intuition + (choice.effects.intuition || 0)));
            }

            // Guardar decisi√≥n
            gameState.decisions.push(choice.text);

            // Actualizar estad√≠sticas
            updateStats();

            // Ir a la siguiente escena
            gameState.currentScene = choice.next;
            showScene(choice.next);
        }

        function restartGame() {
            gameState = {
                trust: 50,
                reputation: 50,
                intuition: 50,
                currentScene: 'inicio',
                decisions: []
            };
            updateStats();
            showScene('inicio');
        }

        // INICIAR EL JUEGO
        showScene('inicio');
    </script>
</body>
</html>
